{"version":3,"sources":["all.js"],"names":["document","addEventListener","ele","querySelector","style","cursor","pos","top","left","x","y","mouseDownHandler","e","userSelect","scrollLeft","scrollTop","clientX","clientY","mouseMoveHandler","mouseUpHandler","dx","dy","removeProperty","removeEventListener","menuOpenBtn","linkBtn","querySelectorAll","menu","menuToggle","forEach","item","closeMenu","classList","contains","remove","add","api_path","init","getProductList","addProductHTML","images","id","title","origin_price","price","productData","url","axios","get","then","res","data","products","renderProductList","error","console","log","productList","str","innerHTML","productSelect","category","target","value","preventDefault","addCartClass","getAttribute","productId"],"mappings":"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","file":"all.js","sourcesContent":["document.addEventListener('DOMContentLoaded', function() {\n  const ele = document.querySelector('.recommendation-wall');\n  ele.style.cursor = 'grab';\n  let pos = { top: 0, left: 0, x: 0, y: 0 };\n  const mouseDownHandler = function(e) {\n      ele.style.cursor = 'grabbing';\n      ele.style.userSelect = 'none';\n\n      pos = {\n          left: ele.scrollLeft,\n          top: ele.scrollTop,\n          // Get the current mouse position\n          x: e.clientX,\n          y: e.clientY,\n      };\n\n      document.addEventListener('mousemove', mouseMoveHandler);\n      document.addEventListener('mouseup', mouseUpHandler);\n  };\n  const mouseMoveHandler = function(e) {\n      // How far the mouse has been moved\n      const dx = e.clientX - pos.x;\n      const dy = e.clientY - pos.y;\n\n      // Scroll the element\n      ele.scrollTop = pos.top - dy;\n      ele.scrollLeft = pos.left - dx;\n  };\n  const mouseUpHandler = function() {\n      ele.style.cursor = 'grab';\n      ele.style.removeProperty('user-select');\n\n      document.removeEventListener('mousemove', mouseMoveHandler);\n      document.removeEventListener('mouseup', mouseUpHandler);\n  };\n  // Attach the handler\n  ele.addEventListener('mousedown', mouseDownHandler);\n});\n// menu 切換\nlet menuOpenBtn = document.querySelector('.menuToggle');\nlet linkBtn = document.querySelectorAll('.topBar-menu a');\nlet menu = document.querySelector('.topBar-menu');\nmenuOpenBtn.addEventListener('click', menuToggle);\n\nlinkBtn.forEach((item) => {\n  item.addEventListener('click', closeMenu);\n})\n\nfunction menuToggle() {\n  if(menu.classList.contains('openMenu')) {\n      menu.classList.remove('openMenu');\n  }else {\n      menu.classList.add('openMenu');\n  }\n}\nfunction closeMenu() {\n  menu.classList.remove('openMenu');\n}\n\n\n\n//開始寫作業\nconst api_path = 'jslive2022';\n\n//重構：初始化部分\nfunction init(){\n  getProductList();\n};\ninit();\n//重構：組字串函式\nfunction addProductHTML(item){\n  return  `\n  <li class=\"productCard\">\n    <h4 class=\"productType\">新品</h4>\n    <img src=\"${item.images}\" alt=\"\">\n    <a href=\"#\" class=\"addCardBtn\" data-id=\"${item.id}\">加入購物車</a>\n    <h3>${item.title}</h3>\n    <del class=\"originPrice\">NT$${item.origin_price}</del>\n    <p class=\"nowPrice\">NT$${item.price}</p>\n  </li>`;\n}\n\n//產品列表：接 API\nlet productData = [];\nfunction getProductList(){\n  let url = `https://livejs-api.hexschool.io/api/livejs/v1/customer/${api_path}/products`;\n  axios.get(url)\n  .then(function(res){\n    productData = res.data.products;\n    renderProductList(productData);\n  })\n  .catch(function (error) {\n    console.log(error);\n  })\n};\n\nconst productList = document.querySelector('.productWrap');\n//產品列表：渲染\nfunction renderProductList(productData){\n  let str = '';\n  productData.forEach(function(item){\n    str += addProductHTML(item);\n    productList.innerHTML = str;\n  })\n};\n\n//下拉選單\nconst productSelect = document.querySelector('.productSelect');\n//下拉選單：監聽\nproductSelect.addEventListener('change',function(e){\n  const category = e.target.value;\n  //下拉選單：判斷篩選\n  if (category == '全部'){\n    renderProductList(productData);\n    return;\n  }\n  let str = '';\n  productData.forEach(function(item){\n    //篩選出相同的category\n    if(item.category == category){\n      str +=addProductHTML(item);\n      productList.innerHTML = str;\n    }\n  })\n});\n\n//加入購物車：監聽按鈕\nproductList.addEventListener('click',function(e){\n  //取消預設\n  e.preventDefault();\n  const addCartClass = e.target.getAttribute('class');\n  //排除按鈕以外\n  if (addCartClass !== 'addCardBtn'){\n    return;\n  };\n  let productId = e.target.getAttribute('data-id');\n  \n})\n"]}